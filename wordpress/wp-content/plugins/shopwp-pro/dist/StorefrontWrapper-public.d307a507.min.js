(self.webpackChunkshopwp=self.webpackChunkshopwp||[]).push([["StorefrontWrapper-public"],{"39Gz":function(e,t,r){var o=r("B4vk");e.exports=function(e){return"function"==typeof e?e:o}},Ac1j:function(e,t,r){var o=r("pThY"),n=r("39Gz");e.exports=function(e,t){return e&&o(e,n(t))}},FSEy:function(e,t,r){"use strict";r.d(t,{f:function(){return n},D:function(){return s}});var o=r("o+or");function n(){var e=wp.element.useContext(o.p);if(!e)throw new Error("useStorefrontState must be used within the StorefrontProvider");return e}function s(){var e=wp.element.useContext(o.L);if(!e)throw new Error("useStorefrontDispatch must be used within the StorefrontProvider");return e}},AePh:function(e,t,r){"use strict";r.r(t);var o=r("FSEy"),n=r("E5I5"),s=r("Ac1j"),i=r.n(s),a=r("KKeo"),u=r.n(a);t.default=function(e){var t=e.children,r=e.itemsState,s=e.itemsDispatch,a=wp.element,c=a.useEffect,l=(0,a.useRef)(!0),p=(0,o.f)(),E=(0,o.D)();return c((function(){var e,t,o;if(l.current)return t=(0,n.Iy)(p.payloadSettings),E({type:"SET_SELECTIONS",payload:t}),i()(t,(function(e,t){"available_for_sale"!==t&&"availableForSale"!==t&&E({type:"SET_SELECTED_"+String(t).toUpperCase(),payload:e})})),r.element&&(0,n.k9)(r.element),void(l.current=!1);null!==(e=p.selections)&&void 0!==e&&e.collections?(s({type:"SET_QUERY_TYPE",payload:"collectionProducts"}),s({type:"RESET_QUERY_PARAMS"}),u()(null===(o=p.selections)||void 0===o?void 0:o.collections)?s({type:"SET_QUERY_PARAMS_COLLECTION_PRODUCTS",payload:!1}):s({type:"SET_QUERY_PARAMS_COLLECTION_PRODUCTS",payload:{ids:p.selections.collections,first:r.queryParams.first,reverse:r.queryParams.reverse,sortKey:r.queryParams.sortKey,cursor:null==r?void 0:r.cursor}})):(s({type:"SET_QUERY_TYPE",payload:"products"}),s({type:"SET_QUERY_PARAMS_COLLECTION_PRODUCTS",payload:!1}),s({type:"MERGE_QUERY_PARAMS",payload:{query:(0,n.G2)(p.selections,r.payloadSettings.connective)}})),s({type:"SET_IS_FETCHING_NEW",payload:!0})}),[p.selections]),t}}}]);