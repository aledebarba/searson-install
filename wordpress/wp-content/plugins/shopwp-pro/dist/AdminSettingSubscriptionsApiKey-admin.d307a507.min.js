"use strict";(self.webpackChunkshopwp=self.webpackChunkshopwp||[]).push([["AdminSettingSubscriptionsApiKey-admin"],{bhkL:function(e,t,n){n.r(t);var r=n("/0+J"),a=n("oYSA"),s=n("o0o1"),p=n.n(s),i=n("1Qdl"),o=n("vzV8"),c=n("Ancs"),u=n("UWz1"),l=n("FxId");function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(e=wpshopify.settings.general.rechargeApiKey),e?e.substring(e.length-30):""}var f={name:"3pm7kj-ErrorCSS",styles:".components-notice{width:100%;margin-top:0;}.components-button{top:0px;};label:ErrorCSS;"},y={name:"7736dr-RowCSS",styles:"display:flex;justify-content:space-between;margin-bottom:22px;position:relative;.components-base-control{flex:1;margin-right:8px;}.components-button{position:relative;top:20px;top:25px;height:31px;justify-content:center;}.shopwp-help{margin-top:-15px!important;font-size:12px;color:rgb(117, 117, 117);};label:RowCSS;"};t.default=function(){var e=wp.components,t=e.TextControl,n=e.Button,s=e.Notice,g=wp.element,d=g.useState,b=(0,g.useContext)(c.Z),m=(0,a.Z)(b,2)[1],S=d(!1),v=(0,a.Z)(S,2),x=v[0],Z=v[1],w=d(wpshopify.settings.general.rechargeApiKey),k=(0,a.Z)(w,2),A=k[0],C=k[1],E=d((function(){return!!wpshopify.settings.general.rechargeApiKey})),R=(0,a.Z)(E,2),I=R[0],T=R[1],_=d(!1),K=(0,a.Z)(_,2),P=K[0],N=K[1];function O(){return O=(0,r.Z)(p().mark((function e(){var t,n,r,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!1),N(!0),m({type:"RESET_NOTICES"}),e.next=5,(0,l.Z)((0,o.ff)({apiKey:A}));case 5:if(t=e.sent,n=(0,a.Z)(t,2),r=n[0],s=n[1],N(!1),!r){e.next=13;break}return Z(r.message),e.abrupt("return");case 13:if(!(0,o.nq)(s)){e.next=16;break}return Z((0,o.OM)(s)),e.abrupt("return");case 16:T(!0),C(h(s.data)),m({type:"UPDATE_NOTICES",payload:(0,u.hS)("Successfully activated Recharge API key")});case 19:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function j(){return j=(0,r.Z)(p().mark((function e(){var t,n,r,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!1),N(!0),m({type:"RESET_NOTICES"}),e.next=5,(0,l.Z)((0,o.ko)({apiKey:A}));case 5:if(t=e.sent,n=(0,a.Z)(t,2),r=n[0],s=n[1],N(!1),!r){e.next=14;break}return Z(r.message),N(!1),e.abrupt("return");case 14:if(!(0,o.nq)(s)){e.next=17;break}return Z((0,o.OM)(s)),e.abrupt("return");case 17:T(!1),C(""),m({type:"UPDATE_NOTICES",payload:(0,u.hS)("Successfully deactivated Recharge API key")});case 20:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}var z=y,D=f;return(0,i.tZ)(React.Fragment,null,(0,i.tZ)("div",{css:z},(0,i.tZ)(t,{type:"text",value:A,onChange:function(e){C(e)},disabled:P||I,placeholder:"Enter your Recharge api key here",label:wp.i18n.__("Recharge API Key","shopwp")}),(0,i.tZ)(n,{onClick:I?function(){return j.apply(this,arguments)}:function(){return O.apply(this,arguments)},disabled:P,isBusy:P,isPrimary:!0,text:I?"Deactivate":"Activate"})),(0,i.tZ)("div",{css:z},(0,i.tZ)("p",{className:"shopwp-help"},"Get started by"," ",(0,i.tZ)("a",{href:"https://support.rechargepayments.com/hc/en-us/articles/360008829993-Recharge-API-#h_f3b493d2-ce6e-4042-b905-afd6bafde0f5",target:"_blank"},"generating a Recharge API key")," ","and adding it here.")),x&&(0,i.tZ)("div",{css:[z,D,";label:SubscriptionsApiKey;"]},(0,i.tZ)(s,{status:"error",onRemove:function(){Z(!1)}},(0,i.tZ)("div",{dangerouslySetInnerHTML:{__html:x}}))))}}}]);