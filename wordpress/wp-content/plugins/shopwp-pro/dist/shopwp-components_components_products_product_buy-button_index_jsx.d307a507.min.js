"use strict";(self.webpackChunkshopwp=self.webpackChunkshopwp||[]).push([["shopwp-components_components_products_product_buy-button_index_jsx"],{ORdK:function(t,e,n){n.d(e,{Ii:function(){return f},Qe:function(){return T}});var a=n("DkC4"),o=n.n(a),i=n("C7S+"),r=n.n(i),l=n("EBgg"),s=n.n(l),p=n("Dgau"),c=n.n(p),d=n("CUeZ"),u=n.n(d),y=n("/WdH"),S=n.n(y);function v(t){return s()(t,"value").filter((function(t){return t.value}))}function f(t,e){if(!t.edges.length)return!1;if(e)var n=t.edges;else n=function(t){return c()(t,(function(t){return t.node.availableForSale}))}(t.edges);var a,i=function(t){return o()(u()(t,(function(t){return t.node.selectedOptions.id=t.node.id,t.node.selectedOptions.map((function(t){return{name:t.name,value:t.value}}))})),"name")}(n);return a=i,r()(a,(function(t,e){return{name:e,values:v(t)}}))}function T(t,e,n){var a,o,i=(a=t,o=e,S()(a,{id:o}));if(!i)return console.warn("WP Shopify warning: could not find selected variant for findTotalInventoryQuantity()"),!1;if(!i.tracked)return!1;if("CONTINUE"===i.inventoryPolicy)return!1;var r=function(t,e,n){if(!t)return!1;var a,o=!!((a=e)&&a.inventoryLevels&&a.inventoryLevels.hasOwnProperty("edges"))&&0!==a.inventoryLevels.edges.length&&(1===a.inventoryLevels.edges.length?a.inventoryLevels.edges[0].node.available:a.inventoryLevels.edges.reduce((function(t,e){return t.node?t.node.available+e.node.available:t})));return!1!==o&&!1!==n&&(o>0&&o<n&&o)}(t,i,n);return r||!1}},xDxd:function(t,e,n){n.d(e,{F:function(){return a},z:function(){return o}});var a=wp.element.createContext(),o=wp.element.createContext()},uX1n:function(t,e,n){n.d(e,{C:function(){return o},r:function(){return i}});var a=n("xDxd");function o(){var t=wp.element.useContext(a.F);if(!t)throw new Error("useProductBuyButtonState must be used within the ProductBuyButtonProvider");return t}function i(){var t=wp.element.useContext(a.z);if(!t)throw new Error("useProductBuyButtonDispatch must be used within the ProductBuyButtonProvider");return t}},"0FTE":function(t,e,n){n.r(e),n.d(e,{default:function(){return Pt}});var a,o=n("XTMG"),i=n("5BtH"),r=n.n(i),l=n("udXY"),s=n("MwdL"),p=n("EUQV"),c={name:"3hov7r-BuyButtonSkeletonRowCSS",styles:"display:flex;justify-content:space-between;label:BuyButtonSkeletonRowCSS;"},d={name:"1xoy23o-BuyButtonSkeletonCSS",styles:"display:flex;flex-direction:column;max-width:300px;label:BuyButtonSkeletonCSS;"},u=function(){var t=(0,o.F4)(a||(a=(0,p.Z)(["\n      0% {\n        opacity: 0.5;\n      }\n  \n      100% {\n        opacity: 1;\n      }\n    "]))),e=d,n=(0,o.iv)("height:40px;border-radius:15px;animation:",t," 0.4s ease-out 0s alternate infinite none running;background:#eee;margin-top:15px;;label:buyButtonCtaCSS;"),i=c,r=(0,o.iv)("margin:0;border-radius:15px;width:30%;max-width:30%;flex:0 0 30%;height:20px;border-radius:15px;animation:",t," 0.4s ease-out 0s alternate infinite none running;background:#eee;;label:VariantCSS;");return(0,o.tZ)("div",{css:e},(0,o.tZ)("div",{css:i},(0,o.tZ)("div",{css:r}),(0,o.tZ)("div",{css:r}),(0,o.tZ)("div",{css:r})),(0,o.tZ)("div",{css:n}))},y=n("o+TG"),S=n("ORdK"),v=n("GYXz"),f=n("XUG9"),T=n("ILDY"),b=n.n(T),O=n("f8o8"),m=n("E5I5"),E=n("81/l"),h=n("uX1n"),g=n("vzV8"),C=wp.element.lazy((function(){return Promise.resolve().then(n.bind(n,"20Ni"))})),w=wp.element.lazy((function(){return n.e("Link-public").then(n.bind(n,"tdT1"))})),x=wp.element.lazy((function(){return Promise.resolve().then(n.bind(n,"2SHZ"))})),_=wp.element.lazy((function(){return n.e("ProductBuyButtonLeftInStock-public").then(n.bind(n,"iEbB"))})),k=wp.element,B=k.useRef,P=k.useEffect,D=k.useState;function I(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{minQuantity:!1,maxQuantity:!1,subscription:!1,attributes:!1},a=(0,g.lJ)("wps-last-checkout-id");return{checkoutId:a,lineItems:t,variants:e,lineItemOptions:n}}function L(t,e){return[{variantId:t.node.id,quantity:e}]}function Z(t,e,n){var a,o,i=(0,g.ew)();if(i)var r=(a=i.lineItems,o=n.id,a.filter((function(t){return t.variantId===o})));else r=!1;return!(!r||r.length<=0)&&r[0].quantity>=e}function N(t){var e=t.hasLink,n=t.payload,a=t.children,i=t.linkTo,r=t.linkTarget,l=t.isDirectCheckout,s=t.linkWithBuyButton;return!e||l||s?a:(0,o.tZ)(w,{type:"products",payload:n,linkTo:i,target:r},a)}var V={name:"jql0qu-NoticeCSS",styles:"margin-top:15px;label:NoticeCSS;"};function A(t){var e=t.addToCartButtonColor,n=t.addToCartButtonTextColor,a=t.hasLink,i=t.linkWithBuyButton,r=t.isDirectCheckout,l=t.productDispatch,s=t.hasManyVariants,p=t.loader,c=t.buttonText,d=t.addedToCart,u=t.allOptionsSelected,y=t.quantity,S=t.selectedOptions,T=t.payload,g=t.payloadSettings,w=t.linkTo,x=D(!1),_=(0,f.Z)(x,2),k=_[0],N=_[1],A=D(!1),j=(0,f.Z)(A,2),F=j[0],z=j[1],M=D(!1),U=(0,f.Z)(M,2),W=U[0],G=U[1],Q=(0,O.Th)(O.dC),q=B(),H=(0,h.C)(),K=g.maxQuantity,X=s?(0,m.oJ)(T,S):function(t){return t.variants.edges[0]}(T);P((function(){u?X&&X.node.availableForSale?(N(!1),G(!1),Q(q.current)):(N(!0),G({type:"warning",message:g.outOfStockNoticeText})):(N(!1),G(!1))}),[S,u]);var $=V,Y=(0,o.iv)("font-family:",g.addToCartButtonTypeFontFamily?g.addToCartButtonTypeFontFamily:"inherit",";font-weight:",g.addToCartButtonTypeFontWeight?g.addToCartButtonTypeFontWeight:"initial",";font-style:",g.addToCartButtonTypeFontStyle?g.addToCartButtonTypeFontStyle:"initial",";font-size:",g.addToCartButtonTypeFontSize?g.addToCartButtonTypeFontSize:"initial",";letter-spacing:",g.addToCartButtonTypeLetterSpacing?g.addToCartButtonTypeLetterSpacing:"initial",";line-height:",g.addToCartButtonTypeLineHeight?g.addToCartButtonTypeLineHeight:"initial",";text-decoration:",g.addToCartButtonTypeTextDecoration?g.addToCartButtonTypeTextDecoration:"initial",";text-transform:",g.addToCartButtonTypeTextTransform?g.addToCartButtonTypeTextTransform:"initial",";overflow-y:hidden;&:focus,&:hover{text-decoration:none;cursor:",F||k?"not-allowed":"pointer",";color:",F||k?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.7)",";}&&{background-color:",k?"#cfcfcf":e,";};label:addToCartCSS;");function J(){return(J=(0,v.Z)(b().mark((function t(e){var n,o,p,c;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("modal"!==w||!wpshopify.misc.isPro||r){t.next=3;break}return l({type:"TOGGLE_MODAL",payload:!0}),t.abrupt("return");case 3:if(!a||r||i){t.next=5;break}return t.abrupt("return");case 5:if(e.preventDefault(),u||!s){t.next=9;break}return l({type:"SET_MISSING_SELECTIONS",payload:!0}),t.abrupt("return");case 9:if(X){t.next=15;break}return console.error("WP Shopify error: handleClick variant undefined "),l({type:"SET_MISSING_SELECTIONS",payload:!0}),l({type:"SET_ALL_SELECTED_OPTIONS",payload:!1}),l({type:"REMOVE_SELECTED_OPTIONS"}),t.abrupt("return");case 15:if(n=L(X,y),o=wp.hooks.applyFilters("product.lineItemOptions",{minQuantity:g.minQuantity,maxQuantity:g.maxQuantity,subscription:H.subscription,attributes:H.attributes,variantId:X.node.id}),!r){t.next=23;break}l({type:"SET_DIRECT_CHECKOUT_PARAMS",payload:{checkoutCache:{lineItems:n,variants:[X.node],lineItemOptions:[{variantId:X.node.id,options:o}]},note:!1,discountCode:!1,customAttributes:!1}}),l({type:"SET_IS_DIRECT_CHECKOUT",payload:!0}),z(!0),t.next=39;break;case 23:if(p=g.resetVariantsAfterAdding,c=I(n,[X.node],o),!K||!Z(0,K,X.node)){t.next=33;break}return wp.hooks.doAction("do.cartToggle","open"),l({type:"SET_ALL_SELECTED_OPTIONS",payload:!1}),l({type:"REMOVE_SELECTED_OPTIONS"}),l({type:"SET_MISSING_SELECTIONS",payload:!1}),t.abrupt("return");case 33:p&&(l({type:"SET_ALL_SELECTED_OPTIONS",payload:!1}),l({type:"REMOVE_SELECTED_OPTIONS"}),l({type:"SET_ADDED_VARIANT",payload:X.node}),l({type:"SET_SELECTED_VARIANT",payload:!1})),l({type:"SET_MISSING_SELECTIONS",payload:!1}),l({type:"REMOVE_SELECTED_OPTIONS"}),wp.hooks.doAction("do.cartToggle","open"),wp.hooks.doAction("do.addToCart",c),wp.hooks.doAction("on.afterAddToCart",n,X.node);case 39:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.tZ)(React.Fragment,null,(0,o.tZ)("button",{ref:q,type:"button",role:"Button",itemProp:"potentialAction",itemScope:!0,itemType:"https://schema.org/BuyAction",className:"wps-btn wps-btn-secondary wps-add-to-cart","data-wps-is-direct-checkout":r?"1":"0",onClick:function(t){return J.apply(this,arguments)},css:[E.ct,Y,";label:AddButton;"],disabled:F||k},F?p:(0,o.tZ)(R,{payload:T,isDisabled:k,addedToCart:d,buttonText:c,addToCartButtonTextColor:n,afterAddedText:g.afterAddedText})),W&&(0,o.tZ)(C,{status:W.type,isDismissible:!1,extraCSS:$},W.message))}function R(t){var e=t.buttonText,n=t.addedToCart,a=t.addToCartButtonTextColor,i=t.afterAddedText,r=(t.isDisabled,D(!1)),l=(0,f.Z)(r,2),s=l[0],p=l[1],c=(0,O.Th)(O.RE),d=B();P((function(){n&&(p(!0),c(d.current),setTimeout((function(){d.current&&p(!1)}),3e3))}),[n]);var u=(0,o.iv)("display:block;margin:0;padding:0;color:",a||"inherit",";;label:AddButtonTextCSS;");return(0,o.tZ)("span",{css:u,ref:d,"aria-label":"Product Add to Cart Text"},s?i:e)}var j=wp.element.memo((function(t){var e=t.hasLink,n=t.payload,a=t.linkTarget,i=t.linkTo,r=t.linkWithBuyButton,l=t.addToCartButtonColor,s=t.addToCartButtonTextColor,p=t.isDirectCheckout,c=t.hasManyVariants,d=t.productDispatch,u=t.buttonText,y=t.selectedVariant,S=t.addedToCart,v=t.isTouched,f=t.allOptionsSelected,T=t.quantity,b=t.selectedOptions,O=t.payloadSettings;return(0,o.tZ)("div",{className:"wps-component wps-component-products-add-button wps-btn-wrapper","aria-label":"Product Add Button"},(0,o.tZ)(N,{hasLink:e,payload:n,linkTarget:a,linkTo:i,linkWithBuyButton:r,isDirectCheckout:p},(0,o.tZ)(A,{hasLink:e,linkWithBuyButton:r,addToCartButtonColor:l,addToCartButtonTextColor:s,loader:(0,o.tZ)(x,null),isDirectCheckout:p,hasManyVariants:c,productDispatch:d,buttonText:u,addedToCart:S,allOptionsSelected:f,quantity:T,selectedOptions:b,payload:n,payloadSettings:O,linkTo:i})),wpshopify.misc.isPro&&O.showInventoryLevels&&(0,o.tZ)(_,{isTouched:v,payload:n,selectedVariant:y,allOptionsSelected:f,payloadSettings:O}))})),F=n("ecC/");function z(t,e){switch(e.type){case"SET_SELECTED_OPTION":return(0,m.kK)("selectedOption",e,t);case"SET_IS_OPTION_SELECTED":return(0,m.kK)("isOptionSelected",e,t);case"TOGGLE_DROPDOWN":return(0,m.kK)("isDropdownOpen",e,t);default:throw new Error("Unhandled action type: ".concat(e.type," in ProductOptionReducer"))}}var M=n("vUFd");function U(t){var e=wp.element.useReducer(z,function(t){return{isOptionSelected:!1,option:!!t.option&&t.option,dropdownElement:!!t.dropdownElement&&t.dropdownElement,selectedOption:{},isDropdownOpen:!1,variants:!!t.variants&&t.variants,totalOptions:!!t.totalOptions&&t.totalOptions,payloadSettings:!!t.payloadSettings&&t.payloadSettings}}(t.options)),n=(0,f.Z)(e,2),a=n[0],o=n[1],i=wp.element.useMemo((function(){return[a,o]}),[a]);return React.createElement(M.m.Provider,(0,F.Z)({value:i},t))}var W=n("KKeo"),G=n.n(W),Q=wp.element,q=Q.useContext,H=Q.useEffect,K=Q.useRef,X=function(t){var e=t.children,n=(0,s.C)(),a=(0,s.V)(),o=q(M.m),i=(0,f.Z)(o,2)[1],r=K(!0);return H((function(){if(n.selectFirstVariant){if(!n.payload.availableForSale||!n.payload.variants.edges[0].node.availableForSale||!n.payload.variants.edges[0].node.selectedOptions)return void console.warn("WP Shopify warning: Unable to select first variant because product is not available for sale.");var t=(0,m.$B)(n.payload.variants.edges[0].node.selectedOptions[0].name,n.payload.variants.edges[0].node.selectedOptions[0].value);a({type:"UPDATE_SELECTED_OPTIONS",payload:t}),i({type:"SET_SELECTED_OPTION",payload:t}),i({type:"SET_IS_OPTION_SELECTED",payload:!0})}if(n.preSelectVariant){var e=(0,m.oQ)(n.preSelectVariant,n.payload);if(e){var o=(0,m.ot)(e.node.selectedOptions);a({type:"SET_ALL_SELECTED_OPTIONS",payload:!0}),a({type:"SET_SELECTED_VARIANT",payload:{payload:n.payload,selectedOptions:o}}),o.forEach((function(t){a({type:"UPDATE_SELECTED_OPTIONS",payload:t}),i({type:"SET_SELECTED_OPTION",payload:t}),i({type:"SET_IS_OPTION_SELECTED",payload:!0})})),wp.hooks.doAction("on.beforeAddToCart",n)}}}),[]),H((function(){if(!r.current)return G()(n.selectedOptions)?(i({type:"SET_IS_OPTION_SELECTED",payload:!1}),void i({type:"SET_SELECTED_OPTION",payload:{}})):void 0;r.current=!1}),[n.selectedOptions]),e},$=wp.element.lazy((function(){return Promise.all([n.e("vendors-shopwp-components_node_modules_tippyjs_react_dist_tippy-react_esm_js-shopwp-component-fb0dc9"),n.e("ProductOptionDropdown-public")]).then(n.bind(n,"4RL0"))})),Y=wp.element.memo((function(t){var e=t.option,n=t.availableVariants,a=t.selectedOptions,o=t.missingSelections,i=t.variants,r=t.payloadSettings,l=t.totalOptions,s=t.allSelectableOptions,p=(0,wp.element.useRef)();return React.createElement(U,{options:{option:e,variants:i,dropdownElement:p,payloadSettings:r,totalOptions:l}},React.createElement(X,null,React.createElement($,{availableVariants:n,selectedOptions:a,missingSelections:o,payloadSettings:r,allSelectableOptions:s})))})),J=function(t){var e=t.options,n=t.availableVariants,a=t.selectedOptions,o=t.missingSelections,i=t.variants,r=t.payloadSettings,l=t.allSelectableOptions;return React.createElement("div",{className:"wps-component wps-component-products-options","aria-label":"Product Options"},e&&e.map((function(t){return React.createElement(Y,{key:t.name,option:t,availableVariants:n,selectedOptions:a,missingSelections:o,variants:i,payloadSettings:r,totalOptions:e.length,allSelectableOptions:l})})))},tt={name:"kqaj3j-selectStyles",styles:"margin-top:6px;color:red;label:selectStyles;"},et=function(t){var e=t.productOptionState,n=tt;return(0,o.tZ)("p",{css:n},wp.hooks.applyFilters("product.missingSelectionText",wp.i18n.__("Please select a ","wpshopify")+String(e.option.name).toLowerCase(),e))},nt=n("8wr9"),at=n("zUcG");function ot(t){var e=t.defaultStyles,n=t.onSelection,a=t.isSelected,i=t.isAvailableToSelect,r=t.isAvailableInShopify,l=t.variantValue,s=t.variantObject;return(0,o.tZ)("button",{css:e,type:"button",onMouseDown:n,"data-is-variant-selected":a,"data-is-available":i,"data-is-available-in-shopify":r},wp.hooks.applyFilters("product.variantValue",l),s&&(0,o.tZ)(rt,{variantObject:s}))}var it={name:"pvjize-variantObjectCSS",styles:"&&{font-size:15px;margin-top:5px;margin-bottom:0;display:inline;margin-left:10px;};label:variantObjectCSS;"};function rt(t){var e=t.variantObject,n=it;return(0,o.tZ)("p",{css:n,className:"wps-variant-button-price"},(0,o.tZ)(at.Z,{price:e[0].node.priceV2.amount}))}var lt=function(t){var e=t.optionObj,n=t.onSelection,a=t.selectedOptions,i=t.isAvailableToSelect,r=t.variants,l=t.totalOptions,s=t.payloadSettings,p=t.isAvailableInShopify,c=(0,m.$B)(e.name,e.value),d=(0,m.pV)(a,c),u=d?"#415aff":"black",y=d?"white":"black",S=d?"#415aff":"transparent",v=i?1:.4;if(s.showPriceUnderVariantButton&&1===l)var f=(0,m.$X)(e,r);else f=!1;var T=s.colorSwatchNames,b="margin: 0 10px 10px 0;\n    outline: none;\n    border: 1px solid ".concat(u,";\n    font-size: 16px;\n    padding: 10px;\n    border-radius: 5px;\n    opacity: ").concat(v,";\n    color: ").concat(y,";\n    background-color: ").concat(S,";\n    transition: all ease 0.2s;\n\ttext-decoration: ").concat(p?"none":"line-through",";\n\n    &:hover,\n    &:focus {\n      cursor: ").concat(i?d?"auto":"pointer":"not-allowed",";\n      background-color: ").concat(i?d?S:"#e9e9e9":S,";\n      text-decoration: ").concat(p?"none":"line-through",";\n    }"),O=(0,o.iv)(wp.hooks.applyFilters("product.variantStyles",function(t,e){var n=T.map((function(t){return String(t).toLowerCase()}));if(n&&!n.includes(String(t.name).toLowerCase()))return e;var a=wp.hooks.applyFilters("product.colorSwatchValue",t.value);if("white"===a||"White"===a)var o=d?"3px solid #333":"1px solid #333";else o=d?"1px solid "+a:"none";return"\n         margin: 0 10px 10px 0;\n         outline: none;\n         padding: 10px;\n         background-color: ".concat(a,";\n         text-indent: 150%;\n         white-space: nowrap;\n         overflow: hidden;\n         width: 40px;\n         height: 40px;\n         font-size: 0;\n         opacity: ").concat(i?1:.1,";\n         border-radius: 50%;\n         border: ").concat(o,";\n         box-shadow: ").concat(d?"inset 0 0 0px 4px white":"none",";\n         transition: all ease 0.15s;\n         line-height: 1;\n\n         &:hover {\n            transform: scale(1.2);\n            cursor: ").concat(d?"auto":"pointer",";\n            opacity: 1 !important;\n         }      \n      ")}(e,b),e,d,i),";;label:ProductVariantButtonValueButtonCSS;");return(0,o.tZ)(ot,{defaultStyles:O,onSelection:n,isSelected:d,isAvailableToSelect:i,isAvailableInShopify:p,variantValue:e.value,variantObject:f})},st=wp.element.memo((function(t){var e=t.option,n=t.selectedOptions,a=t.availableVariants,o=t.variants,i=t.totalOptions,r=t.payloadSettings,l=t.allSelectableOptions;return e.values.map((function(t){return React.createElement(nt.Z,{selectedOptions:n,availableVariants:a,optionObj:t,key:t.name+t.value,variants:o,totalOptions:i,payloadSettings:r,variantId:t.variantId,allSelectableOptions:l},React.createElement(lt,null))}))})),pt={name:"1rx0q05-groupStyles",styles:"display:flex;flex-direction:column;margin-bottom:1em;label:groupStyles;"},ct={name:"18jk3bw-labelStyles",styles:"margin-bottom:5px;font-weight:bold;font-size:15px;label:labelStyles;"},dt=function(t){var e=t.option,n=t.missingSelections,a=t.selectedOptions,i=t.availableVariants,r=t.payloadSettings,l=t.allSelectableOptions,s=wp.element,p=s.useRef,c=(0,s.useContext)(M.m),d=(0,f.Z)(c,1)[0],u=p(),y=ct,S=pt;return(0,o.tZ)("div",{className:"wpshopify-variant-buttons-group",css:S},(0,o.tZ)("label",{css:y},wp.hooks.applyFilters("product.optionName",e.name,d)),(0,o.tZ)("div",{className:"wpshopify-variant-buttons",ref:u},(0,o.tZ)(st,{option:e,availableVariants:i,selectedOptions:a,variants:d.variants,totalOptions:d.totalOptions,payloadSettings:r,allSelectableOptions:l})),n&&!d.isOptionSelected&&(0,o.tZ)(et,{productOptionState:d}))},ut=function(t){var e=t.option,n=t.missingSelections,a=t.availableVariants,o=t.selectedOptions,i=t.variants,r=t.totalOptions,l=t.payloadSettings,s=t.allSelectableOptions;return e?React.createElement(U,{options:{option:e,variants:i,totalOptions:r,payloadSettings:l}},React.createElement(X,null,React.createElement(dt,{option:e,missingSelections:n,availableVariants:a,selectedOptions:o,payloadSettings:l,allSelectableOptions:s}))):""},yt={name:"1pfmvw3-styles",styles:"margin:1em 0;label:styles;"},St=wp.element.memo((function(t){var e=t.options,n=t.missingSelections,a=t.selectedOptions,i=t.availableVariants,r=t.variants,l=t.payloadSettings,s=t.allSelectableOptions,p=yt;return e?(0,o.tZ)("div",{className:"wpshopify-products-variant-buttons",css:p},e.map((function(t){return t&&(0,o.tZ)(ut,{key:t.name,option:t,missingSelections:n,selectedOptions:a,availableVariants:i,variants:r,totalOptions:e.length,payloadSettings:l,allSelectableOptions:s})}))):null})),vt=wp.element.memo((function(t){var e=t.productDispatch,n=t.variantStyle,a=t.clearSelectionsText,i=(0,o.iv)("position:absolute;right:0;font-size:14px;text-decoration:underline;top:","dropdown"===n?"-50px":"-5px",";padding:5px 0;&:hover{cursor:pointer;};label:ClearSelectionsCSS;");return(0,o.tZ)("p",{css:[i,E.P0,";label:ClearSelections;"],onClick:function(){e({type:"SET_MISSING_SELECTIONS",payload:!1}),e({type:"SET_ALL_SELECTED_OPTIONS",payload:!1}),e({type:"SET_SELECTED_VARIANT",payload:!1}),e({type:"SET_SELECTED_SUBSCRIPTION_INFO",payload:!1}),e({type:"REMOVE_SELECTED_OPTIONS"})}},a)})),ft={name:"5ow4qb-ProductOptionsCSS",styles:"position:relative;label:ProductOptionsCSS;"},Tt=function(t){var e=t.variantStyle,n=t.availableOptions,a=t.missingSelections,i=t.selectedOptions,r=t.availableVariants,l=t.variants,s=t.productDispatch,p=t.payloadSettings,c=t.allSelectableOptions,d=ft;return(0,o.tZ)("div",{className:"wps-product-options",css:d,"aria-label":"Product variant ".concat(e||"dropdown")},!G()(i)&&(0,o.tZ)(vt,{productDispatch:s,variantStyle:e,clearSelectionsText:p.clearSelectionsText}),"dropdown"===e?(0,o.tZ)(J,{options:n,missingSelections:a,availableVariants:r,selectedOptions:i,variants:l,payloadSettings:p,allSelectableOptions:c}):"buttons"===e&&wpshopify.misc.isPro?(0,o.tZ)(St,{options:n,missingSelections:a,availableVariants:r,selectedOptions:i,variants:l,payloadSettings:p,allSelectableOptions:c}):(0,o.tZ)(J,{options:n,missingSelections:a,availableVariants:r,selectedOptions:i,variants:l,payloadSettings:p,allSelectableOptions:c}))},bt=wp.element.lazy((function(){return n.e("ProductQuantity-public").then(n.bind(n,"UG48"))})),Ot=wp.element.lazy((function(){return n.e("SubscriptionsBuyButton-public").then(n.bind(n,"2uYs"))})),mt=function(t){var e=t.payloadSettings,n=t.payload,a=t.productState,o=t.productDispatch,i=(e.directCheckout||wpshopify.settings.general.directCheckout)&&wpshopify.misc.isPro;function r(){return!("none"===e.linkTo||e.isSingular&&e.postId||i||"shopify"!==e.linkTo&&"wordpress"!==e.linkTo&&"modal"!==e.linkTo||e.linkWithBuyButton)}var l=(0,y.L2)(e,i,e.linkWithBuyButton),s=[];n.variants.edges.forEach((function(t){s.push({availableForSale:t.node.availableForSale,id:t.node.id,selectedOptions:t.node.selectedOptions})}));var p=(0,S.Ii)(n.variants,e.showOutOfStockVariants);return React.createElement(React.Fragment,null,!1===e.hideQuantity&&!r()&&React.createElement(bt,{excludes:e.excludes,addedToCart:a.addedToCart,minQuantity:e.minQuantity,maxQuantity:e.maxQuantity,showLabel:e.showQuantityLabel,labelText:e.quantityLabelText,quantityStep:e.quantityStep,payload:n}),a.hasManyVariants&&!r()&&React.createElement(Tt,{allSelectableOptions:s,missingSelections:a.missingSelections,variantStyle:e.variantStyle,selectedOptions:a.selectedOptions,availableOptions:p,variants:n.variants,productDispatch:o,payloadSettings:e}),wpshopify.misc.isPro&&wpshopify.misc.hasRecharge&&e.subscriptions&&"none"===e.linkTo&&React.createElement(Ot,{payload:a.payload,payloadSettings:e}),React.createElement(j,{payloadSettings:e,addedToCart:a.addedToCart,isTouched:a.isTouched,hasLink:a.hasLink,allOptionsSelected:a.allOptionsSelected,payload:n,linkTarget:e.linkTarget,linkTo:e.linkTo,linkWithBuyButton:e.linkWithBuyButton,addToCartButtonColor:e.addToCartButtonColor,addToCartButtonTextColor:e.addToCartButtonTextColor,isDirectCheckout:i,hasManyVariants:a.hasManyVariants,productDispatch:o,buttonText:l,selectedVariant:a.selectedVariant,quantity:a.quantity,selectedOptions:a.selectedOptions}))},Et=n("raWh"),ht=n("AE00"),gt=n.n(ht);function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){(0,Et.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xt=function(t,e){if("SET_SELECTED_SUBSCRIPTION"===e.type)return wt(wt({},t),{},{subscription:gt()(t.subscription,{$set:e.payload})});throw new Error("Unhandled action type: ".concat(e.type," in ProductBuyButtonReducer"))},_t=n("xDxd"),kt=function(t){var e=wp.element.useReducer(xt,function(t){return{subscription:!1,attributes:!1,payloadSettings:t.payloadSettings,payload:t.payload}}(t)),n=(0,f.Z)(e,2),a=n[0],o=n[1];return React.createElement(_t.F.Provider,{value:a},React.createElement(_t.z.Provider,{value:o},t.children))},Bt=wp.element.lazy((function(){return Promise.resolve().then(n.bind(n,"20Ni"))})),Pt=function(){var t=wp.element,e=t.useEffect,n=t.Suspense,a=(0,s.C)(),i=(0,s.V)(),p=(0,o.iv)("display:flex;flex-direction:column;margin-bottom:",a.payloadSettings.isSingleComponent?"0px":"15px",";;label:buyButtonWrapperCSS;");return e((function(){var t,e;t=a.selectedOptions,e=a.payload,r()(t)===e.options.length?(i({type:"SET_ALL_SELECTED_OPTIONS",payload:!0}),i({type:"SET_SELECTED_VARIANT",payload:{payload:a.payload,selectedOptions:a.selectedOptions}}),wp.hooks.doAction("on.beforeAddToCart",a)):i({type:"SET_ALL_SELECTED_OPTIONS",payload:!1})}),[a.selectedOptions]),(0,l.vI)((0,o.tZ)(kt,{payloadSettings:a.payloadSettings,payload:a.payload},(0,o.tZ)("div",{css:p,className:"wps-component-products-buy-button","aria-label":"Product Buy Button"},(0,o.tZ)(m.ce,{name:"before.productBuyButton",args:[a]}),(0,o.tZ)(n,{fallback:(0,o.tZ)(u,null)},a.payload.availableForSale?(0,o.tZ)(mt,{payload:a.payload,productState:a,productDispatch:i,payloadSettings:a.payloadSettings}):(0,o.tZ)(m.ce,{name:"product.unavailableHtml",args:[a]},(0,o.tZ)(Bt,{status:"warning",isDismissible:!1},a.payloadSettings.noticeUnavailableText))),(0,o.tZ)(m.ce,{name:"after.productBuyButton",args:[a]}))),(0,m.tu)(a.payloadSettings.dropzoneProductBuyButton))}},vUFd:function(t,e,n){n.d(e,{m:function(){return a}});var a=wp.element.createContext()},"8wr9":function(t,e,n){var a=n("XUG9"),o=n("raWh"),i=n("vUFd"),r=n("MwdL"),l=n("E5I5"),s=n("/WdH"),p=n.n(s);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.Z=function(t){var e=t.optionObj,n=t.selectedOptions,o=t.variants,s=void 0!==o&&o,c=t.totalOptions,u=void 0!==c&&c,y=t.payloadSettings,S=t.children,v=t.allSelectableOptions,f=(0,wp.element.useContext)(i.m),T=(0,a.Z)(f,2),b=T[0],O=T[1],m=(0,r.V)(),E=(0,l.$B)(e.name,e.value),h=function(t,e){var n=function(t,e){return t.filter((function(t){return!!p()(t.selectedOptions,e)&&t}))}(t,e);return!!n.filter((function(t){return t.availableForSale})).length}(v,e),g=function(t,e,n,a,o){if(e.payloadSettings.showOutOfStockVariants)return!0;if(e.isOptionSelected)return!!o;var i=d(d({},n),t);return!!(0,l.Zj)(i,a).length}(n,b,E,s,h);return wp.element.cloneElement(S,{onSelection:function(){m({type:"UPDATE_SELECTED_OPTIONS",payload:E}),O({type:"SET_SELECTED_OPTION",payload:E}),O({type:"TOGGLE_DROPDOWN",payload:!1}),O({type:"SET_IS_OPTION_SELECTED",payload:!0}),wp.hooks.doAction("on.variantsSelection",E,b)},optionObj:e,isAvailableToSelect:g,selectedOptions:n,variants:s,totalOptions:u,payloadSettings:y,isAvailableInShopify:h})}}}]);