"use strict";(self.webpackChunkshopwp=self.webpackChunkshopwp||[]).push([["AdminSettingProductsMetafields-admin"],{rjjh:function(e,t,n){n.r(t);var a=n("/0+J"),i=n("oYSA"),s=n("o0o1"),l=n.n(s),o=n("1Qdl"),r=n("vzV8"),c=n("FxId"),d=n("PLDx"),p=n("Ancs"),f=n("UWz1"),u=n("bVwy");function m(e){var t=e.metafields,n=e.adminDispatch;return t.map((function(e){return(0,o.tZ)(v,{key:e.id,metafieldNamespace:e.namespace,metafieldKey:e.key,metafieldId:e.id,adminDispatch:n})}))}var y={name:"1m7gtz0-ProductsMetafieldsEmptyCSS",styles:"display:flex;justify-content:center;align-items:center;flex-direction:column;>p{margin-top:0;};label:ProductsMetafieldsEmptyCSS;"};function h(){var e=y;return(0,o.tZ)("div",{css:e},(0,o.tZ)("p",null,"No metafields are currently activated. Click below to start."))}function Z(e){var t=e.metafields,n=e.setMetafields,a=wp.components.Button,i=t.length?"+ Add metafield":"Start activating metafields!",s=t.length?"flex-start":"center";return(0,o.tZ)(d.Z,{align:s},(0,o.tZ)(a,{onClick:function(){var e={id:Date.now().toString(),key:!1,namespace:!1};if(!1===t)var a=[e];else a=t.concat([e]);n(a)},isSecondary:!0,isSmall:!0,text:i}))}var g={name:"jjf35o-MetafieldRowCSS",styles:"display:flex;justify-content:space-between;margin-bottom:22px;position:relative;.components-base-control{width:40.5%;margin-right:8px;}.components-button{position:relative;top:20px;top:25px;height:31px;width:88px;justify-content:center;};label:MetafieldRowCSS;"};function v(e){var t=e.metafieldNamespace,n=e.metafieldKey,s=e.metafieldId,d=e.adminDispatch,p=wp.components,u=p.TextControl,m=p.Button,y=p.Notice,h=wp.element.useState,Z=h(n||""),v=(0,i.Z)(Z,2),w=v[0],x=v[1],S=h(t||""),b=(0,i.Z)(S,2),k=b[0],C=b[1],M=h(!!n),D=(0,i.Z)(M,2),N=D[0],P=D[1],E=h(!!s.includes("gid://")),_=(0,i.Z)(E,2),j=_[0],A=_[1],K=h(!1),I=(0,i.Z)(K,2),T=I[0],O=I[1],R=h(!1),z=(0,i.Z)(R,2),B=z[0],U=z[1];function W(){return F.apply(this,arguments)}function F(){return(F=(0,a.Z)(l().mark((function e(){var t,n,a,o,p,u,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),P(!N),U(!1),j){e.next=14;break}return e.next=6,(0,c.Z)((0,r.EN)({key:w,namespace:k}));case 6:t=e.sent,n=(0,i.Z)(t,2),a=n[0],o=n[1],O(!1),a||(o.success?(d({type:"UPDATE_NOTICES",payload:(0,f.hS)("Successfully added metafield to ShopWP")}),A(!0)):(p=(0,r.OM)(o),U(p))),e.next=22;break;case 14:return e.next=16,(0,c.Z)((0,r.Nw)({id:s}));case 16:u=e.sent,m=(0,i.Z)(u,2),a=m[0],o=m[1],O(!1),a||(x(""),C(""),d({type:"UPDATE_NOTICES",payload:(0,f.hS)("Successfully removed metafield from ShopWP")}));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=g;function V(e){"Enter"===e.key&&W()}return(0,o.tZ)(React.Fragment,null,(0,o.tZ)("div",{css:L},(0,o.tZ)(u,{name:"Metafield Namespace",type:"text",placeholder:"Namespace",onChange:function(e){C(e)},value:k,readOnly:j,disabled:j||T,label:wp.i18n.__("Namespace","shopwp"),onKeyDown:V}),(0,o.tZ)(u,{name:"Metafield Key",type:"text",placeholder:"Key",onChange:function(e){x(e)},value:w,readOnly:j,disabled:j||T,label:wp.i18n.__("Key","shopwp"),onKeyDown:V}),(0,o.tZ)(m,{onClick:W,disabled:T,isBusy:T,isPrimary:!0,text:j?"Deactivate":"Activate"})),B&&(0,o.tZ)(y,{status:"error",onRemove:function(){U(!1)}},(0,o.tZ)("div",{dangerouslySetInnerHTML:{__html:B}})))}t.default=function(){var e=wp.element,t=e.useState,n=e.useContext,a=t(wpshopify.metafields?wpshopify.metafields:[]),s=(0,i.Z)(a,2),l=s[0],r=s[1],c=n(p.Z),d=(0,i.Z)(c,2),f=(d[0],d[1]),y=(0,o.iv)("background-image:",l.length?"none":"linear-gradient(to top, #f4edfe 0%, #ffffff 99%, #e3eeff 100%)",";margin-top:",l.length?"0px":"-25px",";padding:",l.length?"0":"20px 0px",";width:",l.length?"100%":"107%",";margin-left:",l.length?"0":"-3.6%",";;label:ProductsMetafieldsCSS;");return wpshopify.misc.isPro?(0,o.tZ)("div",{css:y},0===l.length?(0,o.tZ)(h,null):(0,o.tZ)(m,{metafields:l,adminDispatch:f}),(0,o.tZ)(Z,{metafields:l,setMetafields:r})):(0,o.tZ)(u.lx,null)}}}]);